# 리눅스 하드디스크

- IDE방식과 SCSI방식이 있다.
  - 일반적인 컴퓨터 방식 IDE는 4개(CD ROM)
  - 고가의 SCSI방식은 16개 까지 붙있 수 있다

## 리눅스에 여러개의 하드디스크 붙이기

> 물리적인 하드디스크 장착 -> 파티션 설정 -> 포멧 -> mount -> 폴더에저장 -> /etc/fstab에 등록

### 물리적인 하드디스크 장착 (vmware)

1. 만들어진 서버에 밑에 Add.. 클릭
2. 하드디스크 선택 
3. SCSI
4. new virtual..
5. 기가 선택 / single file (multiple은 많은 디스크를 설정할때)
6. 하드디스크 이름선택(이름은 큰 의미 없다) finish



- 기존 하드는 server-0으로 되어있다
- ext4 구조는 가장 향상된 파일 시스템이다

---

## RAID

> 여러 개의 하드디스크를 하나의 하드디스크처럼 사용하는 방식

- RAID종류

  - 하드웨어 - 고가이다
  - 소프트웨어 

- RAID 레벨

  > 레벨에 따라 디스크가 파괴 되었을 때 어떻게 동작하는지 알아두자!
  
  - Linear RAID - 하나의 디스크에 순서대로 적재된다
  - RAID 0 : 하나의 파일이 여러개의 디스크에 적재된다, 신뢰성이 낮다, 빠르다
  - RAID 1 : 복제가 된다. 신뢰성이 높다
  - 아래처럼 RAID0 + RAID1 합친 방식을 많이 사용한다 (0대신 5도사용)
    
  
   ![image-20200921102933522](C:%5CUsers%5CMaster%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200921102933522.png)
  
  - RAID 5 : 최소 3개이상의 하드디스크가 있어야한다. 패리티를 이용해 데이터를 복구할 수 있다, 디스크가 2개이상 고장나면 복구가 안 된다.
  
- RAID 6 : 2개의 패리티를 이용한다.




## 연결 된 하디디스크 제거

  1. umount

  2. mdadm  --stop

  3. vi /etc/fstab



## 디스크가 파괴되었을 때 고치려면.. 

  - Linear Raid - 새롭게 만든다.
  - Raid 0 - 새롭게 만든다.
  - Raid 1 - 디스크를 추가 (복구 가능)
  - Raid 5 - 디스크를 추가 (복구 가능)


